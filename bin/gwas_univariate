#!/usr/bin/env nextflow

params.out = '.'

ped = file(params.ped)
map = file(params.map)

process compute_association {

    publishDir "$params.out", overwrite: true, mode: "copy"

    input:
        file ped
        file map

    output:
        file 'univariate_association.tsv'

    """
    plink --ped $ped --map $map --allow-extra-chr --allow-no-sex --model fisher 
    sed 's/^ \\+//' plink.model | sed 's/ \\+/\\t/g' >univariate_association.tsv
    """

}